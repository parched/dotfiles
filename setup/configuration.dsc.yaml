# yaml-language-server: $schema=https://aka.ms/configuration-dsc-schema/0.2
# Reference: https://github.com/microsoft/winget-create#building-the-client
# WinGet Configure file Generated By Dev Home.

properties:
  resources:
    ### Settings ###
    - resource: Microsoft.Windows.Developer/DeveloperMode
      directives:
        description: Enable Developer Mode
        allowPrerelease: true
        securityContext: elevated
      settings:
        Ensure: Present
    - resource: Microsoft.Windows.Developer/UserAccessControl
      id: UserAccessControl
      directives:
        allowPrerelease: true
        description: Configure User Access Control
      settings:
        AdminConsentPromptBehavior: "RequireConsentOnSecureDesktop"

    - resource: ComputerManagementDsc/PowerShellExecutionPolicy
      id: PowerShellCurrentUserExecutionPolicy
      directives:
        description: Configure PowerShell execution policy for the current user
      settings:
        ExecutionPolicyScope: "CurrentUser"
        ExecutionPolicy: "RemoteSigned"

    ### Dev packages ###
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing Git.Git
        allowPrerelease: true
        securityContext: current
      settings:
        id: "Git.Git"
        source: winget
      id: Git.Git
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing Microsoft.VisualStudioCode
        allowPrerelease: true
        securityContext: current
      settings:
        id: "Microsoft.VisualStudioCode"
        source: winget
      id: Microsoft.VisualStudioCode
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing Microsoft.PowerShell
        allowPrerelease: true
        securityContext: current
      settings:
        id: "Microsoft.PowerShell"
        source: winget
      id: Microsoft.PowerShell
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing Microsoft.VisualStudio.2022.Professional
        allowPrerelease: true
        securityContext: current
      settings:
        id: "Microsoft.VisualStudio.2022.Professional"
        source: winget
      id: Microsoft.VisualStudio.2022.Professional
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing astral-sh.uv
        allowPrerelease: true
        securityContext: current
      settings:
        id: "astral-sh.uv"
        source: winget
      id: astral-sh.uv
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing Schniz.fnm
        allowPrerelease: true
        securityContext: current
      settings:
        id: "Schniz.fnm"
        source: winget
      id: Schniz.fnm
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing JetBrains.Toolbox
        allowPrerelease: true
        securityContext: current
      settings:
        id: "JetBrains.Toolbox"
        source: winget
      id: JetBrains.Toolbox
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing git absorb
        allowPrerelease: true
        securityContext: current
      settings:
        id: "tummychow.git-absorb"
        source: winget
      id: tummychow.git-absorb

    ### Productivity packages ###
    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing Microsoft.PowerToys
        allowPrerelease: true
        securityContext: current
      settings:
        id: "Microsoft.PowerToys"
        source: winget
      id: Microsoft.PowerToys
    - resource: Microsoft.PowerToys.Configure/PowerToysConfigure
      dependsOn:
        - Microsoft.PowerToys
      directives:
        description: Configure PowerToys
      settings:
        KeyboardManager:
          Enabled: true

    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing twpayne.chezmoi
        allowPrerelease: true
        securityContext: current
      settings:
        id: "twpayne.chezmoi"
        source: winget
      id: twpayne.chezmoi

    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing BurntSushi.ripgrep.MSVC
        allowPrerelease: true
        securityContext: current
      settings:
        id: BurntSushi.ripgrep.MSVC
        source: winget
      id: BurntSushi.ripgrep.MSVC

    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing sharkdp.fd
        allowPrerelease: true
        securityContext: current
      settings:
        id: sharkdp.fd
        source: winget
      id: sharkdp.fd

    - resource: Microsoft.WinGet.DSC/WinGetPackage
      directives:
        description: Installing jqlang.jq
        allowPrerelease: true
        securityContext: current
      settings:
        id: jqlang.jq
        source: winget
      id: jqlang.jq

  configurationVersion: 0.2.0
